const SWIPE_THRESHOLD=50,SWIPE_ANGLE_THRESHOLD=30;function createSlideshow(t,e,n,o,r,i=5e3,s){let c=0;const l=document.querySelector(t),a=Array.from(l?.querySelectorAll(e)||[]),d=Array.from(l?.querySelectorAll(n)||[]),u=l?.querySelector(o),h=l?.querySelector(r),v=s?document.querySelector(s):null;if(!a.length)return;const p={isDown:!1,startX:0,startY:0,currentX:0,pointerId:null,isTransitioning:!1},g=t=>{if(a.forEach((e,n)=>e.classList.toggle("is-active",n===t)),d.forEach((e,n)=>e.classList.toggle("is-active",n===t)),v){const e=a[t].getAttribute("data-image");e&&(v.style.backgroundImage=`url(${e})`)}c=t},w=t=>{p.isTransitioning||(p.isTransitioning=!0,g((c+t+a.length)%a.length),setTimeout(()=>{p.isTransitioning=!1},600))};let b=setInterval(()=>w(1),i);const m=()=>clearInterval(b),I=()=>{clearInterval(b),b=setInterval(()=>w(1),i)},y=(t,e)=>Math.atan2(Math.abs(e),Math.abs(t))*(180/Math.PI)<=30;u?.addEventListener("click",()=>w(1)),h?.addEventListener("click",()=>w(-1)),d.forEach((t,e)=>t.addEventListener("click",()=>g(e))),l?.addEventListener("mouseenter",()=>m()),l?.addEventListener("mouseleave",()=>I()),l&&(l.addEventListener("pointerdown",t=>{t.target.closest("button, a, .hero-nav-btn, .content-slide-nav-btn")||(p.isDown=!0,p.startX=t.clientX,p.startY=t.clientY,p.currentX=t.clientX,p.pointerId=t.pointerId,l.setPointerCapture(t.pointerId),l.style.cursor="grabbing",l.style.opacity="0.95",m())}),l.addEventListener("pointermove",t=>{if(!p.isDown||t.pointerId!==p.pointerId)return;p.currentX=t.clientX;const e=p.currentX-p.startX,n=t.clientY-p.startY;y(e,n)&&Math.abs(e)>10&&t.preventDefault()}),l.addEventListener("pointerup",t=>{if(!p.isDown||t.pointerId!==p.pointerId)return;const e=p.currentX-p.startX,n=t.clientY-p.startY;y(e,n)&&Math.abs(e)>=50&&w(e<0?1:-1),p.isDown=!1,p.pointerId=null,l.style.cursor="",l.style.opacity="",I()}),l.addEventListener("pointercancel",t=>{t.pointerId===p.pointerId&&(p.isDown=!1,p.pointerId=null,l.style.cursor="",l.style.opacity="",I())}),l.querySelectorAll("img").forEach(t=>{t.addEventListener("dragstart",t=>t.preventDefault())}),l.style.touchAction="pan-y pinch-zoom"),g(0)}createSlideshow(".hero-slideshow",".hero-slide",".hero-slideshow-indicators .hero-indicator",".hero-nav-btn.next",".hero-nav-btn.prev",6e3),createSlideshow("#artists.content-slideshow",".content-slide",".content-slideshow-indicators .content-indicator",".content-slide-nav-btn.next",".content-slide-nav-btn.prev",5e3,".content-slide-bg-blur"),createSlideshow("#releases.content-slideshow",".content-slide",".content-slideshow-indicators .content-indicator",".content-slide-nav-btn.next",".content-slide-nav-btn.prev",5e3,".content-slide-bg-blur");const scrollIndicator=document.querySelector(".scroll-indicator"),sections=[{id:"home",name:"Home"},{id:"about",name:"About"},{id:"artists",name:"Artists"},{id:"releases",name:"Releases"},{id:"contacts",name:"Contacts"}];function onScroll(){const t=window.scrollY,e=window.innerHeight,n=t>e/2;scrollIndicator?.classList.toggle("is-scrolled",n),scrollIndicator?.setAttribute("aria-label",n?"Scroll to top":"Scroll down");let o=sections[0];sections.forEach(t=>{const n=document.getElementById(t.id);if(n){const r=n.getBoundingClientRect();r.top<e/2&&r.bottom>0&&(o=t)}});const r=document.querySelector(".header-current-page");r&&(r.textContent=o.name)}scrollIndicator?.addEventListener("click",()=>{window.scrollY>window.innerHeight/2&&window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",onScroll,{passive:!0}),onScroll();