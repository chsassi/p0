---
import HeaderLayout from "../../layouts/HeaderLayout.astro";
import FooterLayout from "../../layouts/FooterLayout.astro";
import releases from "../../data/releases.json";

export async function getStaticPaths() {
  return releases.map((release) => ({
    params: { release: release.slug },
    props: { release },
  }));
}

const { release } = Astro.props;
---

<HeaderLayout title={`Protocol Zero â€” ${release.title}`} active="releases">
  <link rel="stylesheet" href="/styles/releases.css" />
  <a href="/releases" class="back-btn">&lt; Back to Releases</a>
  <section class="release-detail">
    <img src={release.image} alt={release.title} class="release-cover-large" />
    <div class="release-text">
      <h1>{release.title}</h1>
      <p class="release-artist">{release.artist}</p>
      <p class="release-date">{release.date}</p>
      <p class="release-description">{release.description}</p>
    </div>
  </section>
</HeaderLayout>

<FooterLayout />
