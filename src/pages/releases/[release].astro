---
import PageLayout from "../../layouts/PageLayout.astro";
import releases from "../../data/releases.json";

export async function getStaticPaths() {
  return releases.map(release => ({ params: { release: release.slug }, props: { release } }));
}

const { release } = Astro.props;
---
<PageLayout title={release.title} active="releases" backLink="/releases" backText="Back to Releases" stylesheets={["/styles/releases.css"]}>
  <section class="release-detail">
    <img src={release.image} alt={release.title} class="release-cover-large" />
    <div class="release-text">
      <h1>{release.title}</h1>
      <p class="release-artist">{release.artist}</p>
      <p class="release-date">{release.date}</p>
      <p class="release-description">{release.description}</p>
    </div>
  </section>
</PageLayout>
