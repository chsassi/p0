---
import HeaderLayout from "../layouts/HeaderLayout.astro";
import FooterLayout from "../layouts/FooterLayout.astro";
import ContentSlideshow from "../components/ContentSlideshow.astro";
import artists from "../data/artists.json";
import releases from "../data/releases.json";
import news from "../data/news.json";
---

<HeaderLayout
  title="Protocol Zero - European Drum & Bass Label"
  description="Independent European drum & bass label focused on neurofunk and dark bass music."
  canonical="https://protocolzero.online/"
  active=""
>
  <h1 class="sr-only">Protocol Zero — European Drum &amp; Bass and Neurofunk Label</h1>

  <div id="page-loader" class="page-loader" aria-hidden="true">
    <img src="/images/logo.svg" alt="Protocol Zero" class="loader-logo" />
  </div>

  <div class="main-scroll-container">
    <button class="scroll-indicator" aria-label="Scroll down">
      <img src="/images/icons/arrow_down.svg" alt="Scroll down" class="arrow-down nav-icon" />
      <img src="/images/icons/arrow_up.svg" alt="Scroll to top" class="arrow-up nav-icon" />
    </button>

    <section id="home" class="hero-section hero-slideshow">
      <div class="hero-slideshow-container">
        {news.map((item, i) => (
          <div class:list={['hero-slide', i === 0 && 'is-active']} data-slide={i}>
            {item.video ? (
              <div class="hero-slide-background">
                <video autoplay muted loop playsinline class="hero-video">
                  <source src={item.video} type="video/mp4" />
                </video>
              </div>
            ) : (
              <div class="hero-slide-background" style={`background-image: url(${item.image})`}></div>
            )}
            <div class="hero-slide-content">
              <div class="hero-logo-container">
                <img src="/images/logo.svg" alt="Protocol Zero Logo" class="hero-logo" />
              </div>
              <div class="hero-news-content">
                <span class="news-type-label">{item.title}</span>
                <h1 class="news-heading">{item.heading}</h1>
                <p class="news-description">{item.description}</p>
                <a href={item.link} class="news-link">{item.linkText}</a>
              </div>
              <nav class="hero-menu"></nav>
            </div>
          </div>
        ))}
      </div>

      <div class="hero-slideshow-indicators">
        {news.map((_, i) => (
          <button
            class:list={['hero-indicator', i === 0 && 'is-active']}
            data-slide={i}
            aria-label={`Go to news ${i + 1}`}
          ></button>
        ))}
      </div>

      <button class="hero-nav-btn prev" aria-label="Previous news">
        <img src="/images/icons/arrow_left.svg" alt="Previous" class="nav-icon" />
      </button>
      <button class="hero-nav-btn next" aria-label="Next news">
        <img src="/images/icons/arrow_right.svg" alt="Next" class="nav-icon" />
      </button>
    </section>

    <section id="about" class="scroll-section about-section">
      <h1>ABOUT</h1>
      <div class="section-content">
        <p>Protocol Zero (P0) is an independent European drum & bass label founded between Slovakia and Italy by The Martens and Chr-s.</p>
        <p>Born from a shared vision of sound as both art and technology, the label focuses on the darker and more technical edges of drum & bass — from deep neurofunk to atmospheric techstep.</p>
        <p>P0 aims to connect European underground scenes through a unified aesthetic: precise sound design, immersive basslines, and a strong visual and conceptual identity.</p>
        <p>Born from a deep passion for dark and energetic drum & bass, the label stands for quality, precision and evolution in sound.</p>
      </div>
    </section>

    <ContentSlideshow
      id="artists"
      type="artist"
      variant="image-right"
      items={artists.map(a => ({ image: a.image, title: a.name, slug: a.slug }))}
      sectionTitle="ARTISTS"
    />

    <section id="contacts" class="scroll-section contacts-section">
      <h1>CONTACTS</h1>
      <div class="section-content">
        <p>For demo submissions or collaborations, feel free to reach out!</p>
        <p>Send us a private Soundcloud link at the following email:</p>
        <p><a href="mailto:demo@protocolzero.online">demo@protocolzero.online</a></p>
      </div>
    </section>

    <ContentSlideshow
      id="releases"
      type="release"
      variant="image-left"
      items={releases.map(r => ({ image: r.image, title: r.title, subtitle: r.artist, slug: r.slug }))}
      sectionTitle="RELEASES"
    />
  </div>

  <script src="/scripts/index-slideshow.min.js" is:inline></script>
</HeaderLayout>

<FooterLayout />
<script src="/scripts/index-loader.min.js" is:inline></script>