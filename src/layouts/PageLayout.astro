---
import HeaderLayout from "./HeaderLayout.astro";
import FooterLayout from "./FooterLayout.astro";
import BackButton from "../components/ui/BackButton.astro";

interface Props {
  title: string;
  active: string;
  description?: string;
  canonical?: string;
  ogImage?: string;
  backLink?: string;
  backText?: string;
  stylesheets?: string[];
}

const {
  title,
  active,
  description = "Independent European drum & bass label focused on neurofunk and dark bass music.",
  canonical,
  ogImage = "https://protocolzero.online/images/icons/og_default.jpg",
  backLink = "/",
  backText = "Back to Home",
  stylesheets = []
} = Astro.props;

const computedCanonical =
  canonical ?? (active ? `https://protocolzero.online/${active}` : "https://protocolzero.online/");
---
  
  <HeaderLayout
    title={`Protocol Zero â€” ${title}`}
    description={description}
    canonical={computedCanonical}
    ogImage={ogImage}
    active={active}>

    {stylesheets.map(href => <link slot="head" rel="stylesheet" href={href} />)}
    
    <div class="page-container">
      <BackButton href={backLink} text={backText} />
      <slot />
    </div>
  </HeaderLayout>
<FooterLayout />